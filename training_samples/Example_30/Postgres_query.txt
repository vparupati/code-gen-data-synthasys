-- Natural language mapping example
-- "Get payment amounts with sender names and transaction status"
-- Maps: payment amount → amount, sender name → debtor_snapshot->>'display_name', transaction status → payment_state
SELECT 
    payment_ref AS transaction_reference,
    amount AS payment_amount,
    debtor_snapshot->>'display_name' AS sender_name,
    payment_state AS transaction_status
FROM payments
WHERE amount > 1000
ORDER BY amount DESC;

